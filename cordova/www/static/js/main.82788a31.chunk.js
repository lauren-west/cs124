(this.webpackJsonpuntitled=this.webpackJsonpuntitled||[]).push([[0],{43:function(e,t,n){},55:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var a=n(17),c=n.n(a),s=n(48),i=n.n(s),r=n(19),o=n(0),l=n.n(o),d=n(3),u=n(45),j=n(15),b=(n(55),n(43),n(7));var p=function(e){var t=Object(a.useState)(e.inputValue),n=Object(j.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(e.priority),r=Object(j.a)(i,2),o=r[0],l=r[1];function d(){s(e.inputValue),e.onClose()}return Object(a.useCallback)((function(e){}),[e.visible]),o||l("tiny"),e.visible?Object(b.jsx)("div",{className:"backdrop",children:Object(b.jsxs)("div",{className:"modal",children:[e.children,Object(b.jsx)("input",{autoFocus:!0,id:"textfield",type:"text",name:"name",value:c,onChange:function(e){return s(e.target.value)}}),e.task&&Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{className:"priority-label",htmlFor:"priority-levels",children:"Priority"}),Object(b.jsxs)("select",{name:"priority-levels",id:"priority-levels",onChange:function(e){return l(e.target.value)},children:[Object(b.jsx)("option",{selected:"tiny"===o,value:"tiny",children:"Low"}),Object(b.jsx)("option",{selected:"medium"===o,value:"medium",children:"Medium"}),Object(b.jsx)("option",{selected:"high"===o,value:"high",children:"High"})]})]}),Object(b.jsxs)("div",{className:"alert-buttons",children:[Object(b.jsx)("button",{className:"alert-button alert-cancel",type:"button",onClick:d,children:e.cancelName}),Object(b.jsx)("button",{className:"alert-button alert-ok",type:"button",onClick:function(){e.task&&!e.edit?(o||l("tiny"),e.onAddTaskOkay(e.listWithoutId,c,o)):e.onOk(c,o),d(),e.edit?s(c):s("")},children:e.okName})]})]})}):null};var h=function(e){return Object(b.jsx)("div",{className:"wrapper",children:e.children})};function m(e){var t=Object(a.useState)(!1),n=Object(j.a)(t,2),c=n[0],s=n[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{tabIndex:"0",onKeyPress:function(t){("Enter"===t.key||"Space"===t.code)&&e.onClick(e.list.id)},onClick:function(){return e.onClick(e.list.id)},className:"boxes",id:"list-box-1",children:[Object(b.jsx)("img",{alt:"List Icon",src:"list-solid.svg"}),Object(b.jsx)("span",{children:e.list.title}),e.list.sharedWith.length>1&&Object(b.jsx)("img",{tabIndex:"0",alt:"Shared List",src:"user-friends-solid.svg"}),Object(b.jsxs)("div",{className:"edit-delete-button-container",children:[Object(b.jsx)("img",{tabIndex:"0",className:"edit-delete-button",onClick:function(e){e.stopPropagation(),s(!0)},onKeyPress:function(e){e.stopPropagation(),e.preventDefault(),("Enter"===e.key||"Space"===e.code)&&s(!0)},alt:"Edit Pen",src:"edit-solid.svg"}),Object(b.jsx)("img",{tabIndex:"0",alt:"Delete X",className:"edit-delete-button",onKeyPress:function(t){"Enter"===t.key&&e.handleDelete(e.list.id,t)},onClick:function(t){return e.handleDelete(e.list.id,t)},src:"times-solid.svg"})]})]}),Object(b.jsx)(p,{task:!1,edit:!0,inputValue:e.list.title,visible:c,onClose:function(){return s(!1)},onOk:function(t){e.updateList(e.list.id,t)},cancelName:"Don't Save",okName:"Save",children:Object(b.jsx)("div",{children:"Edit List:"})})]})}var O=function(e){var t=Object(a.useState)(!1),n=Object(j.a)(t,2),c=n[0],s=n[1];return Object(b.jsxs)(h,{children:[Object(b.jsx)("h1",{id:"MyLists",children:"My Lists"}),e.data&&e.data.map((function(t){return Object(b.jsx)(m,{handleDelete:e.handleDelete,updateList:e.updateList,setData:e.setData,data:e.data,list:t,onClick:e.onListClick})})),Object(b.jsx)("div",{id:"button1",children:Object(b.jsxs)("button",{onClick:function(){return s(!0)},className:"addList addTask",children:[Object(b.jsx)("img",{alt:"Add +",src:"plus-solid.svg"}),Object(b.jsx)("span",{children:"Add List"})]})}),Object(b.jsx)(p,{task:!1,edit:!1,inputValue:"",visible:c,onClose:function(){return s(!1)},onOk:function(t){e.setData(t)},cancelName:"Don't Add",okName:"Add",children:Object(b.jsx)("div",{children:"Add List:"})})]})},f=n(5),x=n(35),g=n(29),v=n(36);function k(e){console.log(e.currentTasks);var t,n=Object(a.useState)(e.completed),c=Object(j.a)(n,2),s=(c[0],c[1],Object(a.useState)(!1)),i=Object(j.a)(s,2),r=i[0],o=i[1];function l(t){t.stopPropagation(),e.deleteTask(e.list.id,e.id)}return Object(b.jsxs)("div",{id:"box1",className:"boxes boxes-blue",children:[Object(b.jsx)("input",{onKeyUp:function(t){("Enter"===t.key||"Space"===t.code)&&e.updateTask(e.list.id,e.id,e.listitem,!e.completed,e.priority)},tabIndex:"0",checked:e.completed,type:"checkbox",onChange:function(){e.updateTask(e.list.id,e.id,e.listitem,!e.completed,e.priority)}}),Object(b.jsx)("label",{children:e.listitem}),Object(b.jsx)("br",{}),Object(b.jsxs)("div",{className:"edit-delete-button-container",children:[(t=e.priority,"high"==t?Object(b.jsxs)("div",{children:[Object(b.jsx)("img",{className:"priority-img",onClick:function(){return o(!0)},alt:"Exclatmation Point",src:"exclamation-solid.svg"}),Object(b.jsx)("img",{className:"priority-img",onClick:function(){return o(!0)},alt:"Exclatmation Point",src:"exclamation-solid.svg"})]}):"medium"==t?Object(b.jsx)("div",{children:Object(b.jsx)("img",{className:"priority-img",alt:"Exclatmation Point",onClick:function(){return o(!0)},src:"exclamation-solid.svg"})}):Object(b.jsx)("div",{})),Object(b.jsx)("img",{tabIndex:"0",className:"edit-delete-button",alt:"Edit Pen",onKeyPress:function(e){e.preventDefault(),("Enter"===e.key||"Space"===e.code)&&o(!0)},onClick:function(){return o(!0)},src:"edit-solid.svg"}),Object(b.jsx)("img",{tabIndex:"0",className:"edit-delete-button",alt:"Delete X",onKeyPress:function(e){("Enter"===e.key||"Space"===e.code)&&l(e)},onClick:function(e){return l(e)},src:"times-solid.svg"})]}),Object(b.jsx)(p,{edit:!0,priority:e.priority,task:!0,visible:r,inputValue:e.listitem,onClose:function(){return o(!1)},onOk:function(t,n){e.updateTask(e.list.id,e.id,t,e.completed,n)},cancelName:"Don't Save",okName:"Save",children:Object(b.jsx)("div",{children:"Edit Task:"})})]})}var y=function(e){var t,n=Object(a.useState)(!1),c=Object(j.a)(n,2),s=c[0],i=c[1],r=Object(a.useState)([]),o=Object(j.a)(r,2),l=o[0],d=o[1],u=Object(a.useState)("title"),m=Object(j.a)(u,2),O=m[0],g=m[1],v=(e.collectionRef,Object(x.a)(e.collectionRef.doc(e.list.id).collection("tasks").orderBy(O))),y=Object(j.a)(v,3),N=y[0],C=y[1],S=(y[2],!1===C?N.docs.map((function(e){return e.data()})):[]),w=Object(a.useState)(""),I=Object(j.a)(w,2),T=I[0],E=I[1],P=Object(a.useState)(""),D=Object(j.a)(P,2),L=D[0],A=D[1];return Object(b.jsxs)(h,{children:[Object(b.jsx)("h1",{children:e.data[0].title}),Object(b.jsxs)("div",{className:"sharing",children:[e.user.uid==e.data[0].owner&&Object(b.jsx)("input",{className:"share input",placeholder:"Enter Friends Email",type:"text",name:"shared_email",onChange:function(e){return E(e.target.value)},id:"input-id"}),e.user.uid==e.data[0].owner&&Object(b.jsx)("button",(t={className:"share"},Object(f.a)(t,"className","share"),Object(f.a)(t,"onClick",(function(){return e.handleShare(T,e.list.id)&&(document.getElementById("input-id").value="")})),Object(f.a)(t,"children"," Share List "),t))]}),Object(b.jsxs)("div",{className:"sharing",children:[e.user.uid==e.data[0].owner&&Object(b.jsx)("input",{className:"input",placeholder:"Enter Email To Remove",type:"text",name:"unshared_email",onChange:function(e){return A(e.target.value)},id:"input2-id"}),e.user.uid==e.data[0].owner&&Object(b.jsx)("button",{onClick:function(){return e.handleUnShare(L,e.list.id)&&(document.getElementById("input2-id").value="")},children:" Remove Collaborator"})]}),Object(b.jsxs)("div",{className:"filters",children:[Object(b.jsx)("label",{className:"filter-dropdown",htmlFor:"filters",children:"Filters"}),Object(b.jsxs)("select",{name:"filters",id:"filter-select",onChange:function(e){return g(e.target.value)},children:[Object(b.jsx)("option",{value:"title",children:"Name"}),Object(b.jsx)("option",{value:"created",children:"Creation Date"}),Object(b.jsx)("option",{value:"priority",children:"Priority"})]})]}),S.filter((function(e){return!e.completed})).map((function(t){return Object(b.jsx)(k,{deleteTask:e.deleteTask,updateTask:e.updateTask,setTasks:d,currentTasks:l,list:e.list,setData:e.setData,data:e.data,id:t.id,listitem:t.title,completed:t.completed,priority:t.priority})})),Object(b.jsx)("hr",{}),Object(b.jsx)("h3",{className:"completed",children:"Completed:"}),Object(b.jsx)("button",{className:"completed-button",onClick:function(){return function(t){t.filter((function(e){return e.completed})).map((function(t){return e.deleteTask(e.list.id,t.id)}))}(S)},children:"Delete All Completed"}),S.filter((function(e){return e.completed})).map((function(t){return Object(b.jsx)(k,{deleteTask:e.deleteTask,updateTask:e.updateTask,setTasks:d,currentTasks:l,list:e.list,setData:e.setData,data:e.data,id:t.id,listitem:t.title,completed:t.completed,priority:t.priority})})),Object(b.jsx)("div",{id:"button1",children:Object(b.jsxs)("button",{onClick:function(){i(!0)},className:"addTask",children:[Object(b.jsx)("img",{alt:"Add +",src:"plus-solid.svg"}),Object(b.jsx)("span",{children:"Add Task"})]})}),Object(b.jsx)(p,{edit:!1,priority:e.priority,task:!0,visible:s,onClose:function(){return i(!1)},listWithoutId:e.list,list:e.list.id,onOk:console.log("Oops"),onAddTaskOkay:e.addListItem,cancelName:"Don't Add",okName:"Add",children:Object(b.jsx)("div",{children:"Add Task:"})})]})},N=n(46),C=n(49),S=n(28),w=v.a.initializeApp({apiKey:"AIzaSyB8G1WCYinf4GWK7GMzLkP8PlLujGnNqHM",authDomain:"cs124-lab.firebaseapp.com",projectId:"cs124-lab",storageBucket:"cs124-lab.appspot.com",messagingSenderId:"385341419353",appId:"1:385341419353:web:fe357b4ea465efcdff2648",measurementId:"G-PB2T6D5MN8"}),I=(Object(C.a)(w),v.a.firestore()),T=Object(S.c)(),E=new S.a;function P(e){var t="App_Data",n=I.collection(t).where("sharedWith","array-contains",e.user.email),c=Object(a.useState)(!1),s=Object(j.a)(c,2),i=(s[0],s[1]),o=I.collection(t),u=Object(x.a)(n),p=Object(j.a)(u,3),h=p[0],m=p[1];p[2];m||h&&h.docs.map(function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=console,e.next=3,Object(g.a)(t.ref);case 3:return e.t1=e.sent.data().title,e.abrupt("return",e.t0.log.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var f=null;h&&(f=!1===m?h.docs.map((function(e){return e.data()})):[]);var k=Object(a.useState)(!1),C=Object(j.a)(k,2),S=(C[0],C[1],Object(a.useState)(!1)),w=Object(j.a)(S,2),T=(w[0],w[1],Object(a.useState)(0)),E=Object(j.a)(T,2),P=(E[0],E[1],Object(a.useState)({type:"home"})),D=Object(j.a)(P,2),L=D[0],A=D[1];function F(){i(!1),A({type:"home"})}function W(){return(W=Object(d.a)(l.a.mark((function t(n,a){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(g.a)(o.doc(a));case 2:if(c=t.sent,e.user.uid==c.data().owner){t.next=7;break}console.log("You do not have permision to do this."),t.next=14;break;case 7:if(!c.exists()){t.next=13;break}return e.user.email==n&&console.log("You are the owner, you already have access to this list"),t.next=11,o.doc(a).update({sharedWith:[].concat(Object(r.a)(c.data().sharedWith),[n])});case 11:t.next=14;break;case 13:console.log("No such document!");case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function B(){return(B=Object(d.a)(l.a.mark((function t(n,a){var c,s,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(g.a)(o.doc(a));case 2:if(c=t.sent,e.user.uid==c.data().owner){t.next=7;break}console.log("You do not have permision to do this."),t.next=17;break;case 7:if(!c.exists()){t.next=16;break}return e.user.email==n&&console.log("You are the owner, you can't remove yourself."),s=c.data().sharedWith,i=s.filter((function(e){return e!=n})),console.log("unShareEmail",i),t.next=14,o.doc(a).update({sharedWith:i});case 14:t.next=17;break;case 16:console.log("No such document!");case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function K(){return(K=Object(d.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],m){e.next=7;break}return a=o.doc(t).collection(t),e.next=5,Object(g.b)(a);case 5:e.sent.forEach((function(e){n.push([e.data().id,e.data().title,e.data().completed,e.data().priority])}));case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return(H=Object(d.a)(l.a.mark((function e(t,n,a,c,s){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.doc(t).collection("tasks").doc(n).update({title:a,completed:c,priority:s});case 2:i(!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(d.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.doc(t).update({title:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=Object(d.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.doc(t).collection("tasks").doc(n).delete();case 2:i(!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var G={home:Object(b.jsxs)(b.Fragment,{children:[m&&Object(b.jsx)("h1",{children:"Loading"}),Object(b.jsx)("signedInPage",{}),Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:"sign-out-container",children:Object(b.jsx)("button",{className:"sign-out-button",onClick:function(){return e.signOut()},children:"Sign Out"})})}),Object(b.jsx)(O,{updateList:function(e,t){return M.apply(this,arguments)},handleDelete:function(e,t){o.doc(e).delete(),t.stopPropagation()},setData:function(t){var n={id:Object(N.a)(),title:t,owner:e.user.uid,sharedWith:[e.user.email]};o.doc(n.id).set(n)},data:f,onListClick:function(e){return A({type:"list",selectedId:e})}})]}),list:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("img",{tabIndex:"0",onKeyPress:function(e){("Enter"===e.key||"Space"===e.code)&&F()},onClick:function(){return F()},alt:"Back Arrow",src:"long-arrow-alt-left-solid.svg",className:"back-arrow"}),Object(b.jsx)("div",{className:"sign-out-container",children:Object(b.jsx)("button",{className:"sign-out-button",onClick:function(){return e.signOut()},children:"Sign Out"})}),f&&Object(b.jsx)(y,{handleUnShare:function(e,t){return B.apply(this,arguments)},handleShare:function(e,t){return W.apply(this,arguments)},user:e.user,collectionRef:o,query:x.a,deleteTask:function(e,t){return U.apply(this,arguments)},updateTask:function(e,t,n,a,c){return H.apply(this,arguments)},setFetch:i,fetch:m,data:f.filter((function(e){return e.id==L.selectedId})),getDocInfo:function(e){return K.apply(this,arguments)},addListItem:function(t,n,a){var c={id:Object(N.a)(),title:n,completed:!1,priority:a,created:v.a.database.ServerValue.TIMESTAMP,owner:e.user.uid,sharedWith:[e.user.email]};t.collection("tasks").doc(c.id).set(c),i(!1)},list:o.doc(L.selectedId)})]})};return Object(b.jsx)("div",{children:G[L.type]})}var D=function(e){var t=Object(a.useState)({type:"trueHome"}),n=Object(j.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(""),r=Object(j.a)(i,2),o=r[0],l=r[1],d=Object(a.useState)(""),p=Object(j.a)(d,2),h=p[0],m=p[1],O=Object(a.useState)(null),f=Object(j.a)(O,2),x=f[0],g=f[1],v=Object(a.useState)(!0),k=Object(j.a)(v,2),y=k[0],N=k[1],C=Object(a.useState)(!0),w=Object(j.a)(C,2),I=w[0],D=w[1];function L(){Object(S.e)(T,E).then((function(e){S.a.credentialFromResult(e).accessToken;var t=e.user;g(t),console.log("Signed In!"),console.log(t),s({type:"home"})})).catch((function(e){e.code,e.message,e.email,S.a.credentialFromError(e);console.log("try signing in again!"),N(!1)}))}return{signIn:Object(b.jsxs)("div",{className:"home-page",children:[Object(b.jsx)("img",{tabIndex:"0",onKeyPress:function(e){("Enter"===e.key||"Space"===e.code)&&s({type:"trueHome"})},onClick:function(){return s({type:"trueHome"})},alt:"Back Arrow",src:"long-arrow-alt-left-solid.svg",className:"back-arrow"}),Object(b.jsx)("h1",{className:"sign-in-up-h1s",children:"Sign into your Account"}),!y&&Object(b.jsx)("p",{className:"wrongPass",children:"Wrong username or password"}),Object(b.jsx)("div",{className:"buttons-box",children:Object(b.jsxs)("div",{className:"authbuttons",children:[Object(b.jsx)("input",{className:"authitems",placeholder:"Email",type:"email",autoCorrect:"off",autoCapitalize:"off",name:"email",onChange:function(e){return l(e.target.value)}}),Object(b.jsx)("input",{className:"authitems",placeholder:"Password",type:"password",name:"password",onChange:function(e){return m(e.target.value)}}),Object(b.jsx)("button",{className:"front-page-buttons",onClick:function(){return e=o,t=h,void Object(S.d)(T,e,t).then((function(e){var t=e.user;g(t),console.log("Signed In!"),console.log(t),s({type:"home"})})).catch((function(e){e.code,e.message,console.log("try signing in again!"),N(!1)}));var e,t},children:" Sign In "}),Object(b.jsx)("p",{className:"authOption",children:"or"}),Object(b.jsx)("button",{className:"front-page-buttons",onClick:function(){return L()},children:"Sign In with Google"})]})})]}),signUp:Object(b.jsxs)("div",{className:"home-page",children:[Object(b.jsx)("img",{tabIndex:"0",onKeyPress:function(e){("Enter"===e.key||"Space"===e.code)&&s({type:"trueHome"})},onClick:function(){return s({type:"trueHome"})},alt:"Back Arrow",src:"long-arrow-alt-left-solid.svg",className:"back-arrow"}),Object(b.jsx)("h1",{className:"sign-in-up-h1s",children:"Create an Account"}),!I&&Object(b.jsx)("p",{className:"wrongPass",children:"Invalid email or password"}),Object(b.jsx)("div",{className:"buttons-box",children:Object(b.jsxs)("div",{className:"authbuttons",children:[Object(b.jsx)("input",{className:"authitems",placeholder:"Email",type:"email",autoCorrect:"off",autoCapitalize:"off",name:"email",onChange:function(e){return l(e.target.value)}}),Object(b.jsx)("input",{className:"authitems",placeholder:"Password",type:"password",name:"password",onChange:function(e){return m(e.target.value)}}),Object(b.jsx)("button",{className:"front-page-buttons",onClick:function(){return e=o,t=h,void Object(S.b)(T,e,t).then((function(e){var t=e.user;console.log("Signed Up!"),g(t),s({type:"home"})})).catch((function(e){e.code,e.message,console.log("try signing up again!"),D(!1)}));var e,t},children:" Sign Up "}),Object(b.jsx)("p",{className:"authOption",children:"or"}),Object(b.jsx)("button",{className:"front-page-buttons",onClick:function(){return L()},children:"Sign Up with Google"})]})})]}),trueHome:Object(b.jsxs)("div",{className:"home-page",children:[Object(b.jsx)("h1",{className:"homeName",children:"LISTIES"}),Object(b.jsx)("p",{className:"subtitle",children:"By Lucas and Lauren"}),Object(b.jsxs)("div",{className:"buttons-box",children:[Object(b.jsxs)("div",{className:"authbuttons",children:[Object(b.jsx)("button",{className:"front-page-buttons",onClick:function(){return s({type:"signIn"})},children:"Sign In"}),Object(b.jsx)("p",{className:"authOption",children:"or"}),Object(b.jsx)("button",{className:"front-page-buttons",onClick:function(){return s({type:"signUp"})},children:"Create an Account"})]}),"`"]})]}),home:Object(b.jsx)("div",{children:Object(b.jsx)(P,Object(u.a)(Object(u.a)({},e),{},{user:x,signOut:function(){s({type:"trueHome"})}}))})}[c.type]},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,59)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))},A=function(){i.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(D,{})}),document.getElementById("root"))};window.cordova?document.addEventListener("deviceready",A,!1):A(),L()}},[[58,1,2]]]);
//# sourceMappingURL=main.82788a31.chunk.js.map